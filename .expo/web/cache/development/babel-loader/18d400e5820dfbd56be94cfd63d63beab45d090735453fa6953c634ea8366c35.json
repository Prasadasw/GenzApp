{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport { PanGestureHandler } from 'react-native-gesture-handler';\nimport { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nvar _Dimensions$get = Dimensions.get('window'),\n  width = _Dimensions$get.width;\nexport default function ScratchCard(_ref) {\n  var image = _ref.image,\n    isSelected = _ref.isSelected;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    scratched = _useState2[0],\n    setScratched = _useState2[1];\n  var _useState3 = useState(0),\n    _useState4 = _slicedToArray(_useState3, 2),\n    scratchProgress = _useState4[0],\n    setScratchProgress = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    showModal = _useState6[0],\n    setShowModal = _useState6[1];\n  var _useState7 = useState(new Animated.Value(0)),\n    _useState8 = _slicedToArray(_useState7, 1),\n    scaleAnim = _useState8[0];\n  var handleScratch = function handleScratch() {\n    if (isSelected) {\n      setScratchProgress(function (prev) {\n        return Math.min(prev + 0.1, 1);\n      });\n      if (scratchProgress >= 0.7) {\n        setScratched(true);\n        setTimeout(function () {\n          setShowModal(true);\n          startAnimation();\n        }, 500);\n      }\n    }\n  };\n  var startAnimation = function startAnimation() {\n    Animated.spring(scaleAnim, {\n      toValue: 1,\n      useNativeDriver: true,\n      tension: 150,\n      friction: 8\n    }).start();\n  };\n  var closeModal = function closeModal() {\n    Animated.spring(scaleAnim, {\n      toValue: 0,\n      useNativeDriver: true\n    }).start(function () {\n      return setShowModal(false);\n    });\n  };\n  return _jsxs(_Fragment, {\n    children: [_jsx(PanGestureHandler, {\n      onGestureEvent: handleScratch,\n      children: _jsx(View, {\n        style: styles.container,\n        children: scratched ? _jsx(Image, {\n          source: image,\n          style: styles.image,\n          resizeMode: \"cover\"\n        }) : _jsx(View, {\n          style: [styles.overlay, {\n            opacity: 1 - scratchProgress\n          }],\n          children: _jsx(Text, {\n            style: styles.scratchText,\n            children: isSelected ? 'Scratch here!' : 'Select me!'\n          })\n        })\n      })\n    }), _jsx(Modal, {\n      visible: showModal,\n      transparent: true,\n      animationType: \"fade\",\n      children: _jsx(View, {\n        style: styles.modalContainer,\n        children: _jsxs(Animated.View, {\n          style: [styles.modalContent, {\n            transform: [{\n              scale: scaleAnim\n            }]\n          }],\n          children: [_jsx(Image, {\n            source: image,\n            style: styles.modalImage,\n            resizeMode: \"cover\"\n          }), _jsx(Text, {\n            style: styles.congratsText,\n            children: \"Hey Congrats! You guys enjoy this position today!\"\n          }), _jsx(TouchableOpacity, {\n            onPress: closeModal,\n            style: styles.closeButton,\n            children: _jsx(Text, {\n              style: styles.closeButtonText,\n              children: \"Close\"\n            })\n          })]\n        })\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    borderRadius: 15,\n    overflow: 'hidden',\n    backgroundColor: 'white'\n  },\n  image: {\n    width: '100%',\n    height: '100%'\n  },\n  overlay: _objectSpread(_objectSpread({}, StyleSheet.absoluteFillObject), {}, {\n    backgroundColor: '#4ECDC4',\n    justifyContent: 'center',\n    alignItems: 'center'\n  }),\n  scratchText: {\n    color: 'white',\n    fontSize: 16,\n    fontWeight: 'bold'\n  },\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.7)'\n  },\n  modalContent: {\n    width: width * 0.8,\n    padding: 20,\n    borderRadius: 20,\n    backgroundColor: 'white',\n    alignItems: 'center',\n    elevation: 10\n  },\n  modalImage: {\n    width: '100%',\n    height: 200,\n    borderRadius: 15,\n    marginBottom: 20\n  },\n  congratsText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4ECDC4',\n    textAlign: 'center',\n    marginBottom: 20\n  },\n  closeButton: {\n    backgroundColor: '#FF6B6B',\n    padding: 10,\n    borderRadius: 10,\n    alignItems: 'center',\n    width: '80%'\n  },\n  closeButtonText: {\n    color: 'white',\n    fontWeight: 'bold',\n    fontSize: 16\n  }\n});","map":{"version":3,"names":["React","useState","View","Image","Text","StyleSheet","Modal","TouchableOpacity","Animated","Dimensions","PanGestureHandler","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","_Dimensions$get","get","width","ScratchCard","_ref","image","isSelected","_useState","_useState2","_slicedToArray","scratched","setScratched","_useState3","_useState4","scratchProgress","setScratchProgress","_useState5","_useState6","showModal","setShowModal","_useState7","Value","_useState8","scaleAnim","handleScratch","prev","Math","min","setTimeout","startAnimation","spring","toValue","useNativeDriver","tension","friction","start","closeModal","children","onGestureEvent","style","styles","container","source","resizeMode","overlay","opacity","scratchText","visible","transparent","animationType","modalContainer","modalContent","transform","scale","modalImage","congratsText","onPress","closeButton","closeButtonText","create","flex","borderRadius","overflow","backgroundColor","height","_objectSpread","absoluteFillObject","justifyContent","alignItems","color","fontSize","fontWeight","padding","elevation","marginBottom","textAlign"],"sources":["C:/Users/Adarsh/Downloads/project-bolt-sb1-7zb7qmnh/project/src/components/ScratchCard.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n  View,\n  Image,\n  Text,\n  StyleSheet,\n  Modal,\n  TouchableOpacity,\n  Animated,\n  Dimensions,\n} from 'react-native';\nimport { PanGestureHandler } from 'react-native-gesture-handler';\n\nconst { width } = Dimensions.get('window');\n\ninterface ScratchCardProps {\n  image: ImageSourcePropType;\n  isSelected: boolean;\n}\n\nexport default function ScratchCard({ image, isSelected }: ScratchCardProps) {\n  const [scratched, setScratched] = useState(false);\n  const [scratchProgress, setScratchProgress] = useState(0);\n  const [showModal, setShowModal] = useState(false);\n  const [scaleAnim] = useState(new Animated.Value(0));\n\n  const handleScratch = () => {\n    if (isSelected) {\n      setScratchProgress((prev) => Math.min(prev + 0.1, 1));\n      if (scratchProgress >= 0.7) {\n        setScratched(true);\n        setTimeout(() => {\n          setShowModal(true);\n          startAnimation();\n        }, 500);\n      }\n    }\n  };\n\n  const startAnimation = () => {\n    Animated.spring(scaleAnim, {\n      toValue: 1,\n      useNativeDriver: true,\n      tension: 150,\n      friction: 8,\n    }).start();\n  };\n\n  const closeModal = () => {\n    Animated.spring(scaleAnim, {\n      toValue: 0,\n      useNativeDriver: true,\n    }).start(() => setShowModal(false));\n  };\n\n  return (\n    <>\n      <PanGestureHandler onGestureEvent={handleScratch}>\n        <View style={styles.container}>\n          {scratched ? (\n            <Image source={image} style={styles.image} resizeMode=\"cover\" />\n          ) : (\n            <View style={[styles.overlay, { opacity: 1 - scratchProgress }]}>\n              <Text style={styles.scratchText}>\n                {isSelected ? 'Scratch here!' : 'Select me!'}\n              </Text>\n            </View>\n          )}\n        </View>\n      </PanGestureHandler>\n\n      {/* Modal for Congratulations */}\n      <Modal visible={showModal} transparent animationType=\"fade\">\n        <View style={styles.modalContainer}>\n          <Animated.View\n            style={[\n              styles.modalContent,\n              {\n                transform: [{ scale: scaleAnim }],\n              },\n            ]}\n          >\n            <Image source={image} style={styles.modalImage} resizeMode=\"cover\" />\n            <Text style={styles.congratsText}>\n              Hey Congrats! You guys enjoy this position today!\n            </Text>\n            <TouchableOpacity onPress={closeModal} style={styles.closeButton}>\n              <Text style={styles.closeButtonText}>Close</Text>\n            </TouchableOpacity>\n          </Animated.View>\n        </View>\n      </Modal>\n    </>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    borderRadius: 15,\n    overflow: 'hidden',\n    backgroundColor: 'white',\n  },\n  image: {\n    width: '100%',\n    height: '100%',\n  },\n  overlay: {\n    ...StyleSheet.absoluteFillObject,\n    backgroundColor: '#4ECDC4',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  scratchText: {\n    color: 'white',\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.7)',\n  },\n  modalContent: {\n    width: width * 0.8,\n    padding: 20,\n    borderRadius: 20,\n    backgroundColor: 'white',\n    alignItems: 'center',\n    elevation: 10,\n  },\n  modalImage: {\n    width: '100%',\n    height: 200,\n    borderRadius: 15,\n    marginBottom: 20,\n  },\n  congratsText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#4ECDC4',\n    textAlign: 'center',\n    marginBottom: 20,\n  },\n  closeButton: {\n    backgroundColor: '#FF6B6B',\n    padding: 10,\n    borderRadius: 10,\n    alignItems: 'center',\n    width: '80%',\n  },\n  closeButtonText: {\n    color: 'white',\n    fontWeight: 'bold',\n    fontSize: 16,\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}